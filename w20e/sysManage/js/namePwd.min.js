var B={};R.Encode=(function(){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function c(g){var e,f,d,h;e="";d=g.length;for(f=0;
f<d;f++){h=g.charCodeAt(f);if((h>=1)&&(h<=127)){e+=g.charAt(f);}else{if(h>2047){e+=String.fromCharCode(224|((h>>12)&15));e+=String.fromCharCode(128|((h>>6)&63));
e+=String.fromCharCode(128|((h>>0)&63));}else{e+=String.fromCharCode(192|((h>>6)&31));e+=String.fromCharCode(128|((h>>0)&63));}}}return e;}function b(k){var f,h,d;
var j,g,e;d=k.length;h=0;f="";while(h<d){j=k.charCodeAt(h++)&255;if(h==d){f+=a.charAt(j>>2);f+=a.charAt((j&3)<<4);f+="==";break;}g=k.charCodeAt(h++);if(h==d){f+=a.charAt(j>>2);
f+=a.charAt(((j&3)<<4)|((g&240)>>4));f+=a.charAt((g&15)<<2);f+="=";break;}e=k.charCodeAt(h++);f+=a.charAt(j>>2);f+=a.charAt(((j&3)<<4)|((g&240)>>4));f+=a.charAt(((g&15)<<2)|((e&192)>>6));
f+=a.charAt(e&63);}return f;}return function(d){return b(c(d));};})();(function(d,e){e.GetSetData.getData("/w20e/goform/getSysUser",function(j){j=e.parseJSON(j);
var h=[{type:"管理员帐号",user:j.sysUserPrivilegedAccount},{type:"普通帐号",user:j.sysUserOrdinaryUserAccount}];h=new TableData(h,['<div class="operate"><span class="edit"></span></div>']).get();
var k=new TablePage(e("#sysUserTable"));k.data=h;k.init();e("#sysUserTable").on("click",".operate",l);e(".close").on("click",i);e("#adminSet-cancel").on("click",i);
e("#userSet-cancel").on("click",i);function l(){e("#sysUserAccountType").val(h.type);if(this.parentElement.parentElement.rowIndex==1){e("#adminPreName").val(j.sysUserPrivilegedAccount);
e("#adminNamePwd-modal").css({display:"block"});}else{e("#userPreName").val(j.sysUserOrdinaryUserAccount);e("#userNamePwd-modal").css({display:"block"});
}}function i(){if(e.contains(e("#adminNamePwd-modal")[0],this)){e("#adminNamePwd-modal").css({display:"none"});}else{if(e.contains(e("#userNamePwd-modal")[0],this)){e("#userNamePwd-modal").css({display:"none"});
}}}});var a=new R.View("#adminNamePwd-modal",{submitUrl:"/w20e/goform/setSysUser",events:{"#adminSet-save, click":function(){b(e("input[name=sysUserAccount]").val());
f(e("input[name=sysUserPwd]").val());g(e("input[name=sysUserPwd]").val(),e("#adminPwdMatch").val());a.submit();}}});var c=new R.View("#userNamePwd-modal",{submitUrl:"/w20e/goform/setSysUser",events:{"#userSet-save, click":function(){b(e("input[name=sysUserAccount]").val());
f(e("input[name=sysUserPwd]").val());g(e("input[name=sysUserPwd]").val(),e("#userPwdMatch").val());c.submit();}}});function g(h,i){if(h!=i){alert("密码输入错误！");
return false;}else{h=R.Encode(h);return true;}}function f(h){if(h===""){alert("密码不能为空！");e("input[name=sysUserPwd]").focus();return;}else{if(h.length>32||h.length<3){alert("密码长度为3~32位！");
e("input[name=sysUserPwd]").focus();return;}}return true;}function b(h){if(h===""){alert("用户名不能为空！");e("input[name=sysUserAccount]").focus();return;}return true;
}}(window,$));